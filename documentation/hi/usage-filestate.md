# FileState का उपयोग

`FileState` **AppState** लाइब्रेरी का एक घटक है जो आपको फ़ाइल सिस्टम का उपयोग करके स्थायी डेटा को संग्रहीत और पुनर्प्राप्त करने की अनुमति देता है। यह बड़े डेटा या जटिल ऑब्जेक्ट्स को संग्रहीत करने के लिए उपयोगी है जिन्हें ऐप लॉन्च के बीच सहेजने और आवश्यकता पड़ने पर पुनर्स्थापित करने की आवश्यकता होती है।

## मुख्य विशेषताएँ

- **स्थायी भंडारण**: `FileState` का उपयोग करके संग्रहीत डेटा ऐप लॉन्च के बीच बना रहता है।
- **बड़े डेटा का प्रबंधन**: `StoredState` के विपरीत, `FileState` बड़े या अधिक जटिल डेटा को संभालने के लिए आदर्श है।
- **थ्रेड-सेफ**: अन्य AppState घटकों की तरह, `FileState` समवर्ती वातावरण में डेटा तक सुरक्षित पहुँच सुनिश्चित करता है।

## उपयोग का उदाहरण

### FileState के साथ डेटा संग्रहीत और पुनर्प्राप्त करना

यहाँ बताया गया है कि किसी बड़े ऑब्जेक्ट को संग्रहीत और पुनर्प्राप्त करने के लिए `Application` एक्सटेंशन में `FileState` को कैसे परिभाषित करें:

```swift
import AppState
import SwiftUI

struct UserProfile: Codable {
    var name: String
    var age: Int
}

extension Application {
    @MainActor
    var userProfile: FileState<UserProfile> {
        fileState(initial: UserProfile(name: "Guest", age: 25), filename: "userProfile")
    }
}

struct FileStateExampleView: View {
    @FileState(\.userProfile) var userProfile: UserProfile

    var body: some View {
        VStack {
            Text("नाम: \(userProfile.name), आयु: \(userProfile.age)")
            Button("प्रोफ़ाइल अपडेट करें") {
                userProfile = UserProfile(name: "UpdatedName", age: 30)
            }
        }
    }
}
```

### FileState के साथ बड़े डेटा का प्रबंधन

जब आपको बड़े डेटासेट या ऑब्जेक्ट्स को संभालने की आवश्यकता होती है, तो `FileState` यह सुनिश्चित करता है कि डेटा ऐप के फ़ाइल सिस्टम में कुशलता से संग्रहीत हो। यह कैशिंग या ऑफ़लाइन भंडारण जैसे परिदृश्यों के लिए उपयोगी है।

```swift
import AppState
import SwiftUI

extension Application {
    @MainActor
    var largeDataset: FileState<[String]> {
        fileState(initial: [], filename: "largeDataset")
    }
}

struct LargeDataView: View {
    @FileState(\.largeDataset) var largeDataset: [String]

    var body: some View {
        List(largeDataset, id: \.self) { item in
            Text(item)
        }
    }
}
```

### प्रवासन संबंधी विचार

अपने डेटा मॉडल को अपडेट करते समय, संभावित प्रवासन चुनौतियों का हिसाब रखना महत्वपूर्ण है, खासकर जब **StoredState**, **FileState**, या **SyncState** का उपयोग करके स्थायी डेटा के साथ काम कर रहे हों। उचित प्रवासन प्रबंधन के बिना, नए फ़ील्ड जोड़ने या डेटा प्रारूपों को संशोधित करने जैसे परिवर्तन पुराने डेटा लोड होने पर समस्याएँ पैदा कर सकते हैं।

यहाँ कुछ मुख्य बातें ध्यान में रखनी हैं:
- **नए गैर-वैकल्पिक फ़ील्ड जोड़ना**: सुनिश्चित करें कि नए फ़ील्ड या तो वैकल्पिक हैं या पश्चगामी संगतता बनाए रखने के लिए डिफ़ॉल्ट मान हैं।
- **डेटा प्रारूप परिवर्तनों को संभालना**: यदि आपके मॉडल की संरचना बदलती है, तो पुराने प्रारूपों का समर्थन करने के लिए कस्टम डीकोडिंग तर्क लागू करें।
- **अपने मॉडलों का संस्करण बनाना**: प्रवासन में मदद करने और डेटा के संस्करण के आधार पर तर्क लागू करने के लिए अपने मॉडलों में `version` फ़ील्ड का उपयोग करें।

प्रवासन का प्रबंधन करने और संभावित समस्याओं से बचने के तरीके के बारे में अधिक जानने के लिए, [प्रवासन संबंधी विचार मार्गदर्शिका](migration-considerations.md) देखें।


## सर्वोत्तम प्रथाएं

- **बड़े या जटिल डेटा के लिए उपयोग करें**: यदि आप बड़े डेटा या जटिल ऑब्जेक्ट्स संग्रहीत कर रहे हैं, तो `FileState` `StoredState` से बेहतर है।
- **थ्रेड-सेफ एक्सेस**: **AppState** के अन्य घटकों की तरह, `FileState` यह सुनिश्चित करता है कि संग्रहीत डेटा के साथ कई कार्यों के इंटरैक्ट करने पर भी डेटा सुरक्षित रूप से एक्सेस किया जाए।
- **कोडेबल के साथ संयोजन करें**: कस्टम डेटा प्रकारों के साथ काम करते समय, सुनिश्चित करें कि वे `Codable` के अनुरूप हैं ताकि फ़ाइल सिस्टम से और के लिए एन्कोडिंग और डीकोडिंग को सरल बनाया जा सके।

## निष्कर्ष

`FileState` आपके ऐप में स्थायी डेटा को संभालने के लिए एक शक्तिशाली उपकरण है, जो आपको बड़े या अधिक जटिल ऑब्जेक्ट्स को थ्रेड-सुरक्षित और स्थायी तरीके से संग्रहीत और पुनर्प्राप्त करने की अनुमति देता है। यह स्विफ्ट के `Codable` प्रोटोकॉल के साथ सहजता से काम करता है, यह सुनिश्चित करता है कि आपका डेटा लंबी अवधि के भंडारण के लिए आसानी से क्रमबद्ध और डी-क्रमबद्ध किया जा सके।

---
यह [जूल्स](https://jules.google) का उपयोग करके उत्पन्न किया गया था, गलतियाँ हो सकती हैं। कृपया किसी भी सुधार के साथ एक पुल अनुरोध करें जो आपके मूल वक्ता होने पर होना चाहिए।
